// file:  /_sass/partials/components/_table.scss
/* Table styling (light + dark)
   Drop-in replacement for the current table rules.
   Keeps captions, improves borders, spacing, zebra, hover, and readability.
*/

/* Theme tokens (works with data-theme, and also falls back to prefers-color-scheme) */
:root {
    --table-bg: transparent;
    --table-text: inherit;
    --table-border: rgba(0, 0, 0, 0.18);
    --table-border-strong: rgba(0, 0, 0, 0.28);
    --table-head-bg: rgba(0, 0, 0, 0.04);
    --table-zebra: rgba(0, 0, 0, 0.03);
    --table-hover: rgba(0, 0, 0, 0.06);
    --table-caption: rgba(0, 0, 0, 0.65);
}

html[data-theme="dark"] {
    --table-border: rgba(255, 255, 255, 0.18);
    --table-border-strong: rgba(255, 255, 255, 0.28);
    --table-head-bg: rgba(255, 255, 255, 0.06);
    --table-zebra: rgba(255, 255, 255, 0.04);
    --table-hover: rgba(255, 255, 255, 0.08);
    --table-caption: rgba(255, 255, 255, 0.70);
}

/* Optional: if you do not use data-theme, this still looks good */
@media (prefers-color-scheme: dark) {
    html:not([data-theme]) {
        --table-border: rgba(255, 255, 255, 0.18);
        --table-border-strong: rgba(255, 255, 255, 0.28);
        --table-head-bg: rgba(255, 255, 255, 0.06);
        --table-zebra: rgba(255, 255, 255, 0.04);
        --table-hover: rgba(255, 255, 255, 0.08);
        --table-caption: rgba(255, 255, 255, 0.70);
    }
}

/* Core table */
table {
    width: 100%;
    max-width: 100%;
    margin: 20px auto;
    padding: 0; /* padding on table causes weird outer spacing */
    border-collapse: collapse;
    border-spacing: 0;
    empty-cells: hide;
    background: var(--table-bg);
    color: var(--table-text);
    /* "2px 0px" look, but theme-aware */
    border-top: 2px solid var(--table-border-strong);
    border-bottom: 2px solid var(--table-border-strong);
    /* If tables overflow, do not explode the layout */
    display: block;
    overflow-x: auto;
    -webkit-overflow-scrolling: touch;
}

    /* Caption */
    table caption {
        margin: 8px 0 0 0;
        text-align: center;
        caption-side: bottom;
        color: var(--table-caption);
        font-size: 0.95em;
        line-height: 1.3;
    }

/* Cells */
th,
td {
    padding: 8px 10px;
    vertical-align: top;
    text-align: left;
    border-bottom: 1px solid var(--table-border);
}

/* Header row */
thead th {
    background: var(--table-head-bg);
    border-bottom: 2px solid var(--table-border-strong);
    font-weight: 600;
    white-space: nowrap; /* helps narrow tables */
}

/* Remove the old "kill last header border" behavior; it causes gaps */
thead > tr:last-child > th {
    border-bottom: 2px solid var(--table-border-strong);
}

/* Zebra striping */
tbody tr:nth-child(even) td,
tbody tr:nth-child(even) th {
    background: var(--table-zebra);
}

/* Hover highlight (nice for wide tables) */
tbody tr:hover td,
tbody tr:hover th {
    background: var(--table-hover);
}

/* Avoid double line at bottom */
tbody tr:last-child td,
tbody tr:last-child th {
    border-bottom: 0;
}

/* Optional: a little tighter header cell padding than body, if desired */
thead th {
    padding-top: 9px;
    padding-bottom: 9px;
}

/* Optional: keep numeric columns aligned (add class="num" to cells/ths) */
td.num,
th.num {
    text-align: right;
    font-variant-numeric: tabular-nums;
}
