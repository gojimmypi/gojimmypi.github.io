/* file: /_sass/partials/components/_table.scss
   Markdown table styling (scoped)
   Goals:
   - Tables look like tables in both light and dark mode
   - Narrow tables stay compact and centered (no forced full width)
   - No hover effects
   - Do not affect header/layout tables (especially header search table)
*/

/* Theme variables for table visuals and table-like text tone */
:root {
    --tbl-border: rgba(0, 0, 0, 0.28);
    --tbl-border-strong: rgba(0, 0, 0, 0.45);
    --tbl-head-bg: rgba(0, 0, 0, 0.10);
    --tbl-row-alt: rgba(0, 0, 0, 0.04);
    --tbl-caption: rgba(0, 0, 0, 0.70);
    --tbl-text: rgba(0, 0, 0, 0.85);
    --tbl-text-strong: rgba(0, 0, 0, 0.95);
    --tbl-text-muted: rgba(0, 0, 0, 0.70);
}

html[data-theme="dark"] {
    --tbl-border: rgba(255, 255, 255, 0.24);
    --tbl-border-strong: rgba(255, 255, 255, 0.40);
    --tbl-head-bg: rgba(255, 255, 255, 0.12);
    --tbl-row-alt: rgba(255, 255, 255, 0.06);
    --tbl-caption: rgba(255, 255, 255, 0.75);
    --tbl-text: rgba(255, 255, 255, 0.88);
    --tbl-text-strong: rgba(255, 255, 255, 0.98);
    --tbl-text-muted: rgba(255, 255, 255, 0.72);
}

/* Markdown tables only (do not affect header/layout tables) */
.post-content table {
    width: auto; /* shrink to content when small */
    max-width: 100%; /* never overflow container */
    margin: 18px auto; /* center narrow tables */

    border-collapse: separate;
    border-spacing: 0;
    table-layout: auto;
    border: 1px solid var(--tbl-border-strong);
    border-radius: 8px;
    overflow: hidden;
    color: var(--tbl-text);
}

    /* Caption */
    .post-content table caption {
        margin-top: 8px;
        text-align: center;
        caption-side: bottom;
        color: var(--tbl-text-muted);
        font-size: 0.95em;
        line-height: 1.3;
    }

/* Cells */
.post-content th,
.post-content td {
    padding: 10px 12px;
    vertical-align: top;
    text-align: left;
    border-right: 1px solid var(--tbl-border);
    border-bottom: 1px solid var(--tbl-border);
    white-space: normal;
}

/* Header band */
.post-content thead th {
    background: var(--tbl-head-bg);
    font-weight: 700;
    border-bottom: 2px solid var(--tbl-border-strong);
    color: var(--tbl-text-strong);
}

/* Body cells */
.post-content tbody td,
.post-content tbody th {
    color: var(--tbl-text);
}

/* Zebra striping (subtle, no hover) */
.post-content tbody tr:nth-child(even) > th,
.post-content tbody tr:nth-child(even) > td {
    background: var(--tbl-row-alt);
}

/* Last column cleanup */
.post-content tr > th:last-child,
.post-content tr > td:last-child {
    border-right: 0;
}

/* Last row cleanup */
.post-content tbody tr:last-child > th,
.post-content tbody tr:last-child > td {
    border-bottom: 0;
}

/* Explicit guard: never affect the header search/layout table */
.logo-container.header-search table,
.logo-container.header-search th,
.logo-container.header-search td {
    border: 0;
    background: transparent;
    color: inherit;
}
