---
layout: post
title: TinyFPGA WSL icestorm Toolchain for RISC-V
date: '2019-02-10T17:27:00.000-08:00'
author: gojimmypi
tags: 
modified_time: '2019-02-10T17:27:34.631-08:00'
blogger_id: tag:blogger.com,1999:blog-4109066286647243251.post-7502820103477022018
blogger_orig_url: https://gojimmypi.blogspot.com/2019/02/tinyfpga-wsl-icestorm-toolchain-for.html
---

First, ensure that the <a href="https://gojimmypi.blogspot.com/2019/02/wsl-tinyfpga-toolchain-risc-v-part-5.html">latest Ubuntu distro</a> is installed (18.04 as of this blog date). I wasted a tremendous amount of time on an older version. If any GUI apps will be used, ensure there is a <a href="https://gojimmypi.blogspot.com/2019/01/wsl-gui-using-cygwin-x-server-for.html">Windows X-Server running</a>, such as Cygwin.<br /><br />Depending on your network configuration, these git <code>.insteadOf</code> commands may be helpful to force <code>git://</code> repositories to instead be cloned as <code>https://</code><br /><pre><code>git config --global url.https://git.qemu.org/git/.insteadOf git://git.qemu-project.org/<br /><br />git config --global url.https://anongit.freedesktop.org/git/.insteadOf git://anongit.freedesktop.org/<br /></code></pre><br /><br /><br />I've created a <a href="https://gist.github.com/gojimmypi/243fc3a6eead72ae3db8fd32f2567c96">TinyFPGA install gist</a>:   <br /><pre><code>mkdir -p ~/workspace/<br />cd ~/workspace/<br />git clone https://gist.github.com/243fc3a6eead72ae3db8fd32f2567c96.git TinyFPGA_Toolchain<br />cd TinyFPGA_Toolchain<br />chmod +x TinyFPGA_Toolchain.sh<br />sudo ./TinyFPGA_Toolchain.sh<br /><br /></code></pre>Or if you prefer:  <br /><pre><code>sudo ls # pause if copy/paste password prompt<br />sudo apt-get update --assume-yes<br />sudo apt-get upgrade --assume-yes<br /><br />mkdir -p ~/workspace/<br /><br />cd ~/workspace/<br /># install icestorm dependencies<br /># this next install needs a bit of disk space:<br />#   0 upgraded, 205 newly installed, 0 to remove and 3 not upgraded.<br />#   Need to get 130 MB of archives.<br />#   After this operation, 652 MB of additional disk space will be used.<br />#<br />sudo apt-get install build-essential clang bison flex libreadline-dev \<br />                     gawk tcl-dev libffi-dev git mercurial graphviz   \<br />                     xdot pkg-config python python3 libftdi-dev  --assume-yes<br /><br /># tinyFPGA BX<br />git clone --recursive https://github.com/tinyfpga/TinyFPGA-BX.git<br />cd ~/workspace/<br /><br /># icestorm<br />git clone https://github.com/cliffordwolf/icestorm.git icestorm<br />cd icestorm<br />make -j$(nproc)<br />sudo make install<br />cd ~/workspace/<br /><br /># arachne-pnr<br />git clone https://github.com/cseed/arachne-pnr.git arachne-pnr<br />cd arachne-pnr<br />make -j$(nproc)<br />sudo make install<br />cd ~/workspace/<br /><br /># nextpnr<br />git clone https://github.com/YosysHQ/nextpnr.git<br /># this next line is about another half gig of files!<br />#   0 upgraded, 249 newly installed, 0 to remove and 3 not upgraded.<br />#   Need to get 132 MB of archives.<br />#   After this operation, 623 MB of additional disk space will be used.<br />#<br />sudo apt-get install libboost-all-dev python3-dev qt5-default clang-format<br /><br />cd nextpnr<br />cmake -DARCH=ice40 .<br />make -j$(nproc)<br />sudo make install<br />cd ~/workspace/<br /><br /># yosys<br />git clone https://github.com/cliffordwolf/yosys.git yosys<br />cd yosys<br />make -j$(nproc)<br />sudo make install<br />cd ~/workspace/<br /><br />#RISC-V<br />git clone https://github.com/cliffordwolf/picorv32.git<br /><br />sudo mkdir /opt/riscv32i<br />sudo chown $USER /opt/riscv32i<br /><br />sudo apt-get install autoconf automake autotools-dev curl libmpc-dev \<br />        libmpfr-dev libgmp-dev gawk build-essential bison flex texinfo \<br />    gperf libtool patchutils bc zlib1g-dev git libexpat1-dev  --assume-yes<br /></code></pre><br /><a href="https://twitter.com/intent/follow?original_referer=https%3A%2F%2Fpublish.twitter.com%2F%3FbuttonType%3DFollowButton%26query%3Dhttps%253A%252F%252Ftwitter.com%252Fgojimmypi%26widget%3DButton&amp;ref_src=twsrc%5Etfw&amp;region=follow_link&amp;screen_name=gojimmypi&amp;tw_p=followbutton" style="text-decoration: none;" title="Follow @gojimmypi on Twitter">        <span style="background-color: #1b95e0; background-image: url(&quot;https://1.bp.blogspot.com/-J4ujLRevzes/XGBq3K6e3JI/AAAAAAAAB5s/vJR9XfI2-3UrXfXR1qUdQ3o6zVmXP6NfACLcBGAs/s200/Twitter_Logo_WhiteOnImage.png&quot;); background-position: left; background-repeat: no-repeat; background-size: 20px; border-radius: 3px; color: white; cursor: pointer; font-size: 11px; font-weight: 500; font: &quot;helvetica neue&quot; , &quot;arial&quot; , sans-serif; height: 20px; padding: 3px; text-align: right; width: 227px;">            &nbsp; &nbsp; &nbsp; &nbsp; Follow <b>@gojimmypi</b> &nbsp;         </span>    </a>