---
---

@import "toolbox/all";
@import "base/settings";
@import "base/font-face";

$fourtothree: 1460px;
$threetotwo: 775px;
$twotoone: 530px;

.articles,
.jscroll-inner {
    @include flexbox(row, wrap, flex-start, flex-start);
    width: 100%;
    /* Use gap instead of percent margins */
    gap: 25px;

    @media (max-width: $twotoone) {
        justify-content: center;
    }
    /* Keep your jScroll wrapper fix */
    .jscroll-added {
        display: contents;
    }

    article {
        /* Default: 4 columns */
        flex: 0 0 calc((100% - (25px * 3)) / 4);
        margin: 0;

        @media (max-width: $fourtothree) {
            /* 3 columns */
            flex: 0 0 calc((100% - (25px * 2)) / 3);
        }

        @media (max-width: $threetotwo) and (min-width: $twotoone + 1) {
            /* 2 columns */
            flex: 0 0 calc((100% - (25px * 1)) / 2);
        }

        @media (max-width: $twotoone) {
            flex: 0 0 100%;
            margin-bottom: 25px; /* optional; gap already adds spacing */
        }
    }
}

#classic {
    opacity: .7;
}

/* Archive year header: force line break + control spacing */
.archive-year-header {
    display: block;
    width: 100%;
    margin: 0.25rem 0 0.5rem 0;
}

.archive-year-header > h2 {
    margin: 0;
}

/* Reduce gap below the page title */
.index h1.title {
    margin-bottom: 0.25rem;
}
